<div class="welcome-banner">
  <img
    src="http://localhost:3000/public/images/pre.jpg"
    alt="Bienvenue chez nos prestataires"
  />
  <div class="welcome-text">
    <h1>Bienvenue sur notre plateforme de prestataires</h1>
    <p>Trouvez les meilleurs professionnels selon vos besoins.</p>
    <button class="scroll-button" (click)="scrollToPrestataires()">
      Voir les prestataires
    </button>
  </div>
</div>

<div class="search-bar">
  <div class="search-left">
    <input
      type="text"
      [(ngModel)]="query"
      (input)="loadPrestataires()"
      placeholder="Recherche un prestataire, ville, nom..."
    />
    <select [(ngModel)]="selectedVille" (change)="loadPrestataires()">
      <option value="">Toutes les villes</option>
      <option *ngFor="let ville of villes" [value]="ville">{{ ville }}</option>
    </select>
  </div>

  <div class="search-right">
    <button class="market-button"  (click)="monprofil()">
      Mon profil
    </button>
  </div>
  
  <div class="modal" *ngIf="showPopup">
  <div class="modal-content">
    <span class="close" (click)="closePopup()">&times;</span>
    <h2>Information</h2>
    <p>{{ message }}</p>
    <br/>
    <button
      *ngIf="message === 'Votre profil prestataire a été rejeté. Veuillez contacter l\'administrateur pour plus d\'informations.'"
      class="market-button"
      (click)="contactAdmin()"
    >
      Contacter l'administrateur
    </button>
  </div>
</div>

<div class="modal" *ngIf="showPrestatairePopup">
  <div class="modal-content">
    <span class="close" (click)="closePrestatairePopup()">&times;</span>
    <h2>Vous n'avez pas de profil prestataire</h2>
    <p>Veuillez créer notre propre profil ici.</p>
    <button class="create-magasin" [routerLink]="['/créer-profil']" (click)="closePrestatairePopup()">Créer mon profil</button>
  </div>
</div>
  
</div>


<div *ngIf="prestatairesApprouves.length === 0">
  <p>Aucun prestataire trouvé.</p>
</div>

<div class="prestataires-container" *ngIf="prestatairesApprouves.length > 0">
  <app-prestataire-card
    *ngFor="let p of prestatairesApprouves"
    [prestataire]="p"
  ></app-prestataire-card>
</div>